---
#
# We can't put this in vars.yml, because vars.yml is loaded too late...
#

# == To calculate the IP address from hostname
#
# -------------------------
# |       |  ABC  |  DEF  |
# |   1   |   2   |   3   |
# -------------------------
# |  GHI  |  JKL  |  MNO  |
# |   4   |   5   |   6   |
# -------------------------
# | PQRS  |  TUV  | WXYZ  |
# |   7   |   8   |   9   |
# -------------------------
# |       |       |       |
# |   *   |   0   |   #   |
# -------------------------
#
# Belgacom router:
# - IP: 2 -> 63
# - TV: 64 -> 127
#

#
# Take care that only top variables are merged -> a.b.c is overwriten and not merged!
#

all:
  vars:
    ansible_python_interpreter: auto_silent # https://docs.ansible.com/ansible-core/2.13/reference_appendices/interpreter_discovery.html
    ansible_user: root
    dev_user: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      65313262616635656164376432343831663034356666623838613964633732633363376336653832
      6534396265656563656131613630383963383266613237620a656635373130336632356365616537
      35323265626531626538363536633361323262306139393161613735343534303061366565313562
      3831343433306239650a306137366634303533656338623336633235386439303232353763343737
      6637
    dev_password:
    jehon_always_connected: false
    jehon_headless: false
    #
    # Those variables can not be overriden!
    #
    jehon:
      ip:
        #
        # ipv6? use jh-network-mac-to-ipv6 "<mac>"
        #

        # 00:00:00:00:00:1f
        # Detected by docker host
        # dev: fe80::200:ff:fe00:1f
        dev: 127.0.0.1

        gateway: 192.168.1.1

        kiosk: 192.168.1.154

        # 3c:7c:3f:8b:1b:d0
        switch: fe80::3e7c:3fff:fe8b:1bd0

        # 00:11:32:1b:8f:92
        # fe80::211:32ff:fe1b:8f92
        synology: 192.168.1.9

        # vps-c87b5de6.vps.ovh.net
        vps: 135.125.106.114
        # vps: 2001:41d0:404:200::2a3f

        # # B8:27:EB:88:6C:4B
        # # fe80::ba27:ebff:fe88:6c4b
        # tv: 192.168.1.188

        # For WSL:
        wsl-master: 127.0.1.1

        # 192.168.1.8 wifi-asus # 3c:7c:3f:8b:1b:d0
        # 192.168.1.53    wireless-ap   # e8:ab:fa:b0:ac:20
        # 192.168.1.6   tp-link         # EC:08:6B:FE:60:3D
        # 192.168.1.62  ???             # 34:EA:E7:AD:4B:96 # hf-lpt230
        # 192.168.1.51  latitude-wifi   #

      url:
        synology_external: "https://jehon.synology.me:4001"

      credentials:
        pcloud:
          # configured here: https://docs.pcloud.com/my_apps/
          ro:
            client_id: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              30373231653738393732653439313037343931633064643230663438346232633465666131656334
              3237336362393262356564613065623034336363353862380a356261666361373731356366633834
              62653433626439383262393161313738303364653463626232376634616161313731313465633961
              3838626466663331310a633333663435366261346135646130623365623832643231623830326537
              6435

            client_secret: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              36326531346437376664353331653237313232343033363230313633303638653462623662376563
              3563343031633562396130303037363732316666363630650a373430303766366134316638643037
              38343961633865366537383330613435663864616531646136633938393639313138633634626339
              6365303661623866370a363963623337316537626235363066653034316135623563383638356439
              37653933313135653265306439386533343036666633663033623834316362346337

            token: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              39666331336130393832653237636634326234346335396332306666613233633839346466333566
              3935373136656563626339656437626539373038663264630a333330363865366430633133343862
              30316633663337306462333762383731313665363835386236626230383861346532363336373734
              3932623032643032350a313662326639363234623965313036376666663162343138353664366632
              63653166373831313237363362636663353864306463313135616334396332363566613231666662
              62346434626661353631333366363731386235333866363462386131356538363366326363366534
              39666261366161313661613832353461313161393864646531626662666163356563333731653562
              38643630633365306433343433623664363535303861356666383764376339646465343035353831
              62333162636266313539646164633562313962396137616662653334376234333632303465353936
              3639356363633363646238363339313463316264633966376664

          rw:
            client_id: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              39323038383432373163366563326230346134613636306632613238343366306332653530346636
              3934366635383637663531636331343937346464313338360a356263393436373432613265336634
              65326533313631386431383937386162353465326537326666646134656262613936616332623135
              3636646535353336640a346636313231383835363730343265633663393533316337313031366661
              6437

            client_secret: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              64383936613933363636376436626539363436646532363963663639646235376332313139393331
              6439633630663332616565326166373864353031393437330a343139303461373634643536663132
              34306237323862306332393535383366393638326535623932626561316338383939653837636261
              3362336462343931620a653866633538613332636262616162633261323331636433376565663962
              39356262663861316630396264383037376631323162636463363839666162643763

            token: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              30323039386334343934613765346462393734623934643737623361346538326162666161363261
              3738613135313865386438353133323532663664303534640a313933363632353365643435666561
              61316462336132656139326330626466333062306364313263333662356661373334613630643838
              3935333264613664650a356266653638613932363937313162613338383466333334643662336165
              33343063316138653766323265636637646131613431623033323632636237383638366662386666
              65636361363963303139353664623034643864653331663136663139303265333563396336306664
              36633135383431666437373539353339393134356434623235393466623539306130313035313165
              31333763303265663030643731323539376538393334393862356434623562383862643762666632
              32376665363132636532623937636335623161303062303537653339633937383564363934643131
              3536616161643861356461646330376535663463393662336330

        docker:
          username: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            66336638326330613266336466666263663566346434356533343439393431643336303364653432
            6539336165613766376439366462346537663964323631330a646465363231383132333838333436
            39646436613637333533343466613661626638646237336437666436623130333738663264373731
            3138303435356331310a636139326435306330343738343762623137633530393032623536396536
            3235

          token: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            30316438393931333133373463336432663839666665663966666262623864343730353635653234
            3334633964356463313632646563376334343831363831340a326439383364643831323031373961
            35376530623465333230653361303662396135613662363430396235643835313931386535346462
            3064646431633165650a366231333766623430653631633666623537633331656235666562653139
            36393331366266393330396664646239303138633737633935333332303162666239316639646333
            6462636633666439363534343338613566646362396262656662

        cryptomedic:
          database_username: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            63373032336535376333623536633966376539356135373131303138333238633962363133613436
            6437303839396239333064643932373265363363643139660a396433333865623732303938626230
            33353638653238313533313066636339323230396237323739363063643662393761656630323330
            6232323432663065660a336431376530333365636231316530356164396333333833646139306461
            6363

          database_password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            34383061306231613531343630326536363033393730336636616665326636613934303139633938
            3263306435353739373935663637376530383666626233660a393362343366353233646264306635
            33613333666464343639346139323362666139353163316638626534333234323261363166383261
            3730303335376634380a663765333730636163356134393262323538346261373639613563333263
            6438

          security_admin: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            64386366643664333166336235353730656336336165643862393462623233376636633334393364
            6362653564383439346139633664646363303562383865630a333437316532333331666665316132
            34636636613261303066636165313630363032386531366535396165616134393236383431326563
            3335363261633762310a616163383338396630376134323336313962633363343435363465616630
            3837

          security_key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            32643938653065306565623961383537346538393964356161663033313432653632313737663063
            3231656663373163333433623537303563356634663535610a363834316230376463393639633665
            66616434316462316363386161356664323331386536313734383431373430303465316439313737
            3639353830323835650a663836333230353965653833336335313366663962353233316233613966
            6163

          security_random: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            61356534393038663336653330326162353635363533333332306537633762633366366537623965
            3230643934393436636332656136633737353936383536650a373239313465346231373830366363
            37376635633933353932383138633737323633343839316165326537303930656336663931653236
            3036323437643435610a656266646439626435613135383835353533363437376362326465646164
            36633935643537643630323330623462613635646639346334663165396665616132616332386136
            6531386536336233306265333165303363363761326162326161

          security_token: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            30643266393866333962356535363936643531323330653336353364396463376530666132666162
            6661303861383765303263633338386466373966633036330a633965633035633637343731363565
            37396635613034393239373834376532316533366437613765653838323135313435343531646431
            3964353266393232610a343735336538323831386265643635346230343532383866316435643662
            65306133383238376533633138343039373061376335396231363262383963306437373332616137
            3663323663633462643137616161343930386532303935366534

          deploy_files_host: ftp.cluster003.ovh.net
          deploy_files_user: cryptomekp
          deploy_files_password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            35616466323963613930333437363935623561333838313735356431393334653637316133626536
            3162333932633264373465616231646438616333316237650a366138353061303165313863393333
            35333836336566346636313633626565323363366463356363666537356162336336353036303339
            3562396637386463330a363164316632363239626566356634636530333166373665656263363363
            6462

          deploy_web_host: www.cryptomedic.org
          deploy_web_port: 80
          deploy_web_token: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            37386166373062343862373361613565366230393739636531313964333561646435306363313430
            6237353937396362633733666565336463333432653061630a356535333530613339356133386133
            33346132363065373432393366653836636535343263313334336335383230303131623135313834
            3863316464323031380a353263323365616433343266323761303536326632386665313766386239
            6134

        github:
          display_name: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            65343836636230656334323533656436613063356664303632323664323864313362353235653339
            6464376461623136653166613237356162373630616561300a393739376438663736613364316164
            31313065356561663432643231633661303837393861313566653232373563336130633130636265
            6664316137663031320a333836636434356564346666643465653361373639373831343338313866
            3232

          email: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            61666637323033666534646636326333346436363237336439353632373366323763613763623861
            3263376263646233356530326365303336323539633439640a396362356633333061323233376166
            36346563616534333264643564666535306662383462303033383461326239643738303236353565
            3232616131333262650a353030343166666430396539633931346164323431663232336238363937
            63633061396565626265636634363664303133666332376639316131653133626334

          login: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            32323831643462666237336633313136656235376666356430316135396132633934376437653062
            6236356234333537366430323934326439393531336334630a303339333936343533363738623466
            30333532383764366536323238383338633739666663666230633239653264326162663433306165
            3530353030333435390a363061616331343166643363393565326536663133653863666362313939
            3235

        jenkins:
          master_key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            39323830613861353765623833356334373966366362306537313264656537633238633234323333
            3166353332383336336666323331633939396166396539320a646236323431316338666337383233
            66376633633735346334646464646530616337326665326130326632346165623930373032636533
            3132626438343236330a356134316362346563303638373366393162666561366339353066636436
            34353034346335306434356237633031656335633231643739633837366138366430366262383264
            63346337653266313833306236383534373338303331316236306234396237303336663164333030
            31643831343963336265323031633466383163383165343834366636633661643939363265346333
            38373834306265346539366432376336653935653036373336613239373434643366623165633762
            37313231633264323731323139656438633064333433663936663338616138313730393034656635
            37356637663262323731306663393632616236393330333062353966613039343537333434623933
            32656261376336306134633466336136666265356138623733643263663165313266663032303063
            30313132613263356638343636366663393163386334623866623064633935666365626538343434
            31643439323935303661316532323436333663663439643337363935643365666132396531373330
            62626364313761363461643637633865656137306164373238646364366632653866613465393561
            61643438336334383561663964623134356237636336646439306130646433653134623833383832
            38393830363333623131633639363135373462346437313530363235393633633139313532626661
            61643431303831656239653238663236646432336134373663346430343139316161

          agent1_token: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            35323034373265643330666139383965383363633336383733353666326238323238623261346632
            3963346364306561366338613336366231396330356564350a346132323637323936343735653662
            33653937666134663736663562633065373234383438636330616430333137623162313061373563
            3631613765356534340a386436326331613065623366323932623761633566316164333335356433
            37613332333130613433613738373364623539316331313535316565353236666235376539656333
            38333337336266613330386264613634336564333730366439623738383633346137623437323135
            37306233616532336436353062353333353364346139383561356132353361396434323935356464
            34306463393532376130

          system_user: cli
          # Se connecter avec user "cli" => profile => conifugre => jeton d'api (token)

          system_token: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            62373334366437616339396164613563623364636663376165393361613133393030376261666434
            3135383030396534623332383561363566626132306534340a646239646565303936333261323366
            37656530323434653234363262303761343665366564323639656235666563376363396330643436
            6262316163333663330a393336663530373162656235643636656238363039313861376533316138
            30626466393435363961663231316435363632633330653036323664643666343035653833373163
            3862643064643139616539363763663262633038636663386462

        koalty:
          ftp:
            host: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              39653231333563656466333265666232353038633939333431303734383834306339363135306637
              3536623034396665636331643362313361323831623034660a306531633931363466373862386264
              34343865396662623461343431356132393433343333613563666537326462306466303661633636
              6265313737663861330a383239613436393564323834396631393832643061616435383834386130
              35653161616439323734343333623034656237393637626237613734303530316637

            user: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              37633633343034353438316538306234393337666433363264643033393734643932373538313564
              6231396434373863313536336132623237663964666533360a323836316233633162303863373862
              65373137613137303534303963656239313236643535666362316231336136356330313034346666
              3036363865626662360a313165666464333231323139313366383763633862323762663033396162
              6565

            pass: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              33366662333262653334616666353230306465643136613061613330326139393633323639633264
              3134343436393966613037353263353561356462396538340a393139353031646232346162626335
              63643534333334353133383466636438356164636465366462376433616439343763363931336333
              3630623535663733370a376233313363663932616163323364396136623739373639393433653365
              62353534653765623833386133623836306230393536623865386165633132376639

        professional:
          display_name: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            65343836636230656334323533656436613063356664303632323664323864313362353235653339
            6464376461623136653166613237356162373630616561300a393739376438663736613364316164
            31313065356561663432643231633661303837393861313566653232373563336130633130636265
            6664316137663031320a333836636434356564346666643465653361373639373831343338313866
            3232

          email: to-be-defined

        tmdb:
          key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            61343662646630393763663664373137633364316366373865376262396666386331623536623735
            6236396266373336333765643063326137626337313237380a313163663732316561636537613430
            64313234636136356464393561613133346466366662356566623432326432626636326665353337
            6137663933363932300a646633343565383230656635373532613437303631336338356165613966
            38343035663363393264313539333439663761363531356534326337643662343338333638396236
            39623661656232623562393930383634333834643534313738393064303862376566303365333636
            39363338346539333566633361643832393461643730643835373339313062656362363337343034
            35653232333934373432396533396636306662313662353761303065376462663835313733663530
            37653361613932343361643333663634353630383261373261366666326333653764396135643561
            31353164313932626533376233636363373738626331343064353230393863326138623161366434
            62373039336536386132396235306530363966323232663733336366666433393232356663396232
            30366237353331313261636338366631316337636265663830316364373266376438646439386434
            36316531626439656165363431643764383531636461366338353466373636646339353034666332
            37323835663662306166333666396662646135656564356638383863383337653961336663326231
            626563613938386234353535366335333561

  hosts:
    dev:
      ansible_host: localhost
      # ansible_connection: local
      ansible_become: true
      cloud_type: pcloud-rw
      cloud_cache_size: 20G
      cloud_mount:
        Musiques: rw
        Photos: rw
        Videos: rw
      jehon_repo_docker: true
      ## Depend also on the OS
      jehon_debian_testing: 75
    kiosk:
      ansible_host: "{{ jehon.ip.kiosk }}"
      cloud_type: home
      cloud_cache_size: 10M
      cloud_mount:
        Musiques: ro
        Photos: ro
        Videos: ro
      jehon_always_connected: true
      jehon_headless: true
      jehon_ip: "{{ jehon.ip.kiosk }}"
      jehon_repo_docker: true
      synology:
        username: "systeme-kiosk"
        password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62646333303730346630346232376637346131316663633361313533373435366334666139393466
          3032623166383938323766643430326637373363313465650a666362353264313437366230623838
          32326265343833616662353964363765356363313831326363333038626132613937346636623831
          6530613235303634360a623436323531623064626466353238633339363237326664353436346331
          3832
    synology:
      # We use also the /etc/ssh/ssh_config.d/jehon.conf
      # See https://serverfault.com/a/926506/275843
      ansible_port: 2022
      ansible_user: jehon
      ansible_ssh_pass: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        30313831663439333738343563313731656361646338386136356361343465323435363834633730
        3137626131336466616135653232393233653337363537320a353835313738643537633234633163
        34666638343639323136643564623131303861333766343333353935353638336333353962366137
        6131386533336333610a623135313364643461376666666139326462656135613137613162653265
        3961
      ansible_remote_tmp: /volume1/scripts/.ansible-tmp
      ansible_pipelining: true
      ansible_ssh_transfer_method: piped
      data_volume: /volume1
      script_folder: /volume1/scripts/scripts
    vps:
      ansible_host: "{{ jehon.ip.vps }}"
      jehon_headless: true

  children:
    grp_jehon:
      # All system that get jehon.deb and the follow-up
      hosts:
        dev:
        kiosk:
        vps:
